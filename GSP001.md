# **Creating a Virtual Machine # GSP001**

Zone Dependent - DOWN

## **Preparation**

    export REGION=us-east1
    export ZONE=us-east1-b
    export PROJECT_ID=<your project id>
    gcloud config set project $PROJECT_ID

## **Task 1: Create a new instance from the Cloud Console**

Create a new VM as described or run the shell command:

    gcloud compute instances create gcelab --machine-type e2-medium --zone $ZONE --tags=http-server,https-server 

<br>

___
## **Task 2: Install an NGINX web server**
Update the OS

    sudo apt-get update

Install NGINX

    sudo apt-get install -y nginx

Confirm that NGINX is running

    ps auwx | grep nginx
>
    [x] Check External IP link
___
### **Extra for changing website**
Conect with Super User

    sudo su

Install wget + unzip

    apt-get install -y wget unzip

Go to www folder

    cd /var/www/html

Remove existing index.html

    rm index.nginx-debian.html

Download new webpage

    wget https://github.com/geo-wurth/SenaiMogiCloud/archive/refs/heads/main.zip

Unzip files

    unzip main.zip

Move files to the right folder

    mv SenaiMogiCloud-main/* ./
>
    [x] Check External IP link

<br>

___
## **Task 3: Create a new instance with gcloud**

Run Shell Command for new VM

    gcloud compute instances create gcelab2 --machine-type e2-medium --zone $ZONE --tags=http-server,https-server
<br>

___
## **Task 4: Test your knowledge**

    Through which of the following ways can you create a VM instance in Compute Engine?
    [x] The gcloud command line tool
    [x] The Cloud Console